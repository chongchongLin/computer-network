## Inter电子邮件邮件

### 一、电子邮件系统结构
主要包括:**邮件服务器、简单邮件传输协议(SMTP)、用户代理和邮件读取协议等**；

#### 邮件服务器
概念:**维护管理一个外出邮件队列,队列中暂存注册用户等待向外发送的邮件。**

#### 用户代理
概念:是电子邮件应用等**客户端软件**,为用户提供使用电子邮件的接口。  
**主要功能**:支持用户撰写、显示、处理和收发邮件等操作提供编辑与操作环境

**典型实例**:**微软的OutLook,Apple Mail和Fox Mail**等

#### 邮件读取协议
**主要功能**:将邮箱中的邮件传输到本地,或者对邮箱中的邮件进行阅读、移动等操作
**典型实例**:**POP,IMAP**等

### 二、SMTP(绑定25端口)

概念:**实现邮件服务器之间或用户代理到邮件服务器之间的邮件传输**。  
地位:**是Internet电子邮件中核心应用层协议**  
#### SMTP如何实现邮件的发送？ 
在发送邮件时,SMTP客户端首先请求与服务器端到**25号端口**建立TCP连接,连接一旦建立,便开始进行SMTP应用层交互，实现邮件的发送
#### SMTP如何实现邮件的传输？
当TCP连接建立成功后,SMTP通过3个阶段的应用层交互完成邮件的传输，分别是**握手阶段、邮件传输阶段和关闭阶段**

#### SMTP具有的特点

1. **SMTP只能传送7位ASCII码文本内容,包括SMTP命令、应答消息以及邮件内容**。因此，SMTP不能直接传送可执行文件或其他二进制对象(例如,图像、声音、视频等)。
2. **SMTP传送的邮件内容不能包括"CRLF.CRLF"**,因为该信息用于标识邮件内容结束。**如果在邮件内容中包含该内容，则SMTP在传输时,需要进行转义。**
3. **SMTP是“推动”协议**。
4. **SMTP使用TCP连接是持久的**。


### 三、电子邮件格式与MINE

#### 如何解决SMTP只能传输7未ASCII码文本内容？
解决方式:**多用途互联网邮件扩展(MINE)**

#### MINE原理
**不是改动或者取代SMTP,MINE定义了将非7位ASCII码内容转换为7位ASCII码的编码规则,并在邮件首部添加MINE首部行**